<div style=" display: flex; align-items: center; justify-content: center; flex-direction: column; text-align: center; position: relative; margin-top: 90px;">
    <div class="absolute top-full transform -translate-y-1/2 left-1/2 -translate-x-1/2">
      <div class="flex justify-center mt-8">

        <div *ngIf="!isMobileScreen()" class="w-[500px] bg-white border border-gray-200 rounded-lg shadow-lg p-6 py-8">
          <p class="mb-4 text-[#0284c7] text-sm font-semibold flex justify-center">Check Availability</p>
          <div class="flex gap-2">
    
            <!-- Dropdown Button Section -->
            <div class="w-2/5 text-left">
              <button 
                id="venutype" 
                class="text-black bg-white font-medium text-sm px-5 py-2.5 border-2 w-full text-left inline-flex items-center justify-between rounded-lg h-[40px]" 
                type="button" 
                (click)="setDropdown()"
                style="min-width: 150px; height: 40px; overflow: hidden; text-overflow: ellipsis; white-space: nowrap; display: flex; align-items: center;">
                <!-- Display button name, truncating if it's too long -->
                <span class="flex-1 overflow-hidden text-ellipsis">{{buttonName}}</span>
                <svg *ngIf="isDropdownOpen === false" class="w-2.5 h-2.5 ms-3" aria-hidden="true" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 14 8">
                  <path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="m1 1 5.326 5.7a.909.909 0 0 0 1.348 0L13 1"/>
               </svg>

               <svg *ngIf="isDropdownOpen === true" class="w-2.5 h-2.5 ms-3" aria-hidden="true" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 14 8">
                   <path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 7 7.674 1.3a.91.91 0 0 0-1.348 0L1 7"/>
                </svg>
              </button>
            
              <!-- Dropdown Menu -->
              <div *ngIf="isDropdownOpen" class="absolute z-10 bg-white divide-y divide-gray-100 rounded-lg shadow w-44 dark:bg-gray-700 mt-2" style="min-width: 150px;">
                <ul class="py-2 text-sm text-gray-700 dark:text-gray-200" aria-labelledby="dropdownDefaultButton">
                  <li>
                    <a (click)="selectVenue('All Venue')" class="block px-4 py-2 hover:bg-gray-100 dark:hover:bg-gray-600 dark:hover:text-white">All Venue</a>
                  </li>
                  <li>
                    <a (click)="selectVenue('Auditorium')" class="block px-4 py-2 hover:bg-gray-100 dark:hover:bg-gray-600 dark:hover:text-white">Auditorium</a>
                  </li>
                  <li>
                    <a (click)="selectVenue('Conference Hall')" class="block px-4 py-2 hover:bg-gray-100 dark:hover:bg-gray-600 dark:hover:text-white">Conference Hall</a>
                  </li>
                  <li>
                    <a (click)="selectVenue('Mini Auditorium')" class="block px-4 py-2 hover:bg-gray-100 dark:hover:bg-gray-600 dark:hover:text-white">Mini Auditorium</a>
                  </li>
                  <li>
                    <a (click)="selectVenue('Panel Room')" class="block px-4 py-2 hover:bg-gray-100 dark:hover:bg-gray-600 dark:hover:text-white">Panel Room</a>
                  </li>
                  <li>
                    <a (click)="selectVenue('Quadrangle/Turf')" class="block px-4 py-2 hover:bg-gray-100 dark:hover:bg-gray-600 dark:hover:text-white">Quadrangle/Turf</a>
                  </li>
                </ul>
              </div>
            </div>
            
    
            <!-- Date Picker Section -->
            <div class="w-2/5 text-left">
              <div class="relative flex-1">
                <div class="relative max-w-sm">
                  <input 
                    id="date" 
                    type="date" 
                    class="bg-white border border-gray-300 text-gray-900 text-sm rounded-lg block w-full ps-10 p-2.5" 
                    placeholder="Select date" 
                    (change)="onDateChange($event)"
                    [min]="tomorrowDate"
                    [value]="selectedDate ? selectedDate.toISOString().split('T')[0] : ''" 
                    style="height: 40px;" /> 
                    <label for="date" class="absolute text-sm text-gray-500 dark:text-gray-400 duration-300 transform -translate-y-4 scale-75 top-2 z-10 origin-[0] bg-white dark:bg-gray-900 px-2 peer-focus:px-2 peer-focus:text-blue-600 peer-focus:dark:text-blue-500 peer-placeholder-shown:scale-100 peer-placeholder-shown:-translate-y-1/2 peer-placeholder-shown:top-1/2 peer-focus:top-2 peer-focus:scale-75 peer-focus:-translate-y-4 rtl:peer-focus:translate-x-1/4 rtl:peer-focus:left-auto start-1">Date </label>
                </div>
              </div>
            </div>
    
            <!-- Search Button Section -->
            <div class="w-1/7 ml-auto">
              <button 
                type="button" 
                (click)="searchforVenue()"
                class="flex items-center justify-center w-12 h-10 bg-[#0284c7] text-white rounded-lg "
                style="height: 40px; width: 50px;"> <!-- Fixed size for button -->
                <svg class="w-4 h-4 text-white-800 dark:text-white" aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24">
                  <path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="m21 21-3.5-3.5M17 10a7 7 0 1 1-14 0 7 7 0 0 1 14 0Z"/>
                </svg>
              </button>
            </div>
    
          </div>
        </div>

        <div *ngIf="isMobileScreen()" class="w-[300px] bg-white border border-gray-200 rounded-lg shadow-lg p-6 py-8 mb-13">
          <p class="mb-4 text-[#0284c7] text-sm font-semibold flex justify-center">Check Availability</p>
        
          <!-- First section: Dropdown Button -->
          <div class="w-full mb-4"> <!-- Use w-full to make it full width, and mb-4 for spacing -->
              <button 
                id="venutype" 
                class="text-black bg-white font-medium text-sm px-5 py-2.5 border-2 w-full inline-flex items-center justify-between rounded-lg h-[40px]" 
                type="button" 
                (click)="setDropdown()"
                style="min-width: 150px; height: 40px; overflow: hidden; text-overflow: ellipsis; white-space: nowrap;">
                <span class="text-ellipsis" style="overflow: hidden;">{{buttonName}}</span>
                <svg *ngIf="isDropdownOpen === false" class="w-2.5 h-2.5 ms-3" aria-hidden="true" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 14 8">
                  <path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="m1 1 5.326 5.7a.909.909 0 0 0 1.348 0L13 1"/>
                </svg>
                <svg *ngIf="isDropdownOpen === true" class="w-2.5 h-2.5 ms-3" aria-hidden="true" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 14 8">
                  <path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 7 7.674 1.3a.91.91 0 0 0-1.348 0L1 7"/>
                </svg>
            </button>
          
            <div *ngIf="isDropdownOpen" class="absolute z-10 bg-white divide-y divide-gray-100 rounded-lg shadow w-44 dark:bg-gray-700 mt-2" style="min-width: 150px;">
              <ul class="py-2 text-sm text-gray-700 dark:text-gray-200" aria-labelledby="dropdownDefaultButton">
                <li>
                  <a (click)="selectVenue('All Venue')" class="block px-4 py-2 hover:bg-gray-100 dark:hover:bg-gray-600 dark:hover:text-white">All Venue</a>
                </li>
                <li>
                  <a (click)="selectVenue('Auditorium')" class="block px-4 py-2 hover:bg-gray-100 dark:hover:bg-gray-600 dark:hover:text-white">Auditorium</a>
                </li>
                <li>
                  <a (click)="selectVenue('Conference Hall')" class="block px-4 py-2 hover:bg-gray-100 dark:hover:bg-gray-600 dark:hover:text-white">Conference Hall</a>
                </li>
                <li>
                  <a (click)="selectVenue('Mini Auditorium')" class="block px-4 py-2 hover:bg-gray-100 dark:hover:bg-gray-600 dark:hover:text-white">Mini Auditorium</a>
                </li>
                <li>
                  <a (click)="selectVenue('Panel Room')" class="block px-4 py-2 hover:bg-gray-100 dark:hover:bg-gray-600 dark:hover:text-white">Panel Room</a>
                </li>
                <li>
                  <a (click)="selectVenue('Quadrangle/Turf')" class="block px-4 py-2 hover:bg-gray-100 dark:hover:bg-gray-600 dark:hover:text-white">Quadrangle/Turf</a>
                </li>
              </ul>
            </div>
          </div>
        
          <!-- Second section: Date Picker -->
          <div class="w-full mb-4"> <!-- w-full for full width and mb-4 for spacing -->
            <div class="relative flex-1">
              <div class="relative max-w-sm">
                <input 
                  id="date" 
                  type="date" 
                  class="bg-white border border-gray-300 text-gray-900 text-sm rounded-lg block w-full ps-10 p-2.5" 
                  placeholder="Select date" 
                  (change)="onDateChange($event)"
                  [min]="tomorrowDate"
                  [value]="selectedDate ? selectedDate.toISOString().split('T')[0] : ''" 
                  style="height: 40px; text-align: left;" /> 
                <label for="date" class="absolute text-sm text-gray-500 dark:text-gray-400 duration-300 transform -translate-y-4 scale-75 top-2 z-10 origin-[0] bg-white dark:bg-gray-900 px-2 peer-focus:px-2 peer-focus:text-blue-600 peer-focus:dark:text-blue-500 peer-placeholder-shown:scale-100 peer-placeholder-shown:-translate-y-1/2 peer-placeholder-shown:top-1/2 peer-focus:top-2 peer-focus:scale-75 peer-focus:-translate-y-4 rtl:peer-focus:translate-x-1/4 rtl:peer-focus:left-auto start-1">Date </label>
              </div>
            </div>
          </div>
        
          <!-- Third section: Search Button -->
          <div class="w-full text-right flex justify-end"> <!-- w-full for full width and text-right to align the button to the right -->
            <button 
              type="button" 
              (click)="searchforVenue()"
              class="flex items-center justify-center w-12 h-10 bg-[#0284c7] text-white rounded-lg"
              style="height: 40px; width: 50px;"> 
              <svg class="w-4 h-4 text-white-800 dark:text-white" aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24">
                <path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="m21 21-3.5-3.5M17 10a7 7 0 1 1-14 0 7 7 0 0 1 14 0Z"/>
              </svg>
            </button>
          </div>
        </div>

      </div>
    </div>

   </div>

   <div [ngClass]="{'px-4 ':isMobileScreen()}" class=" max-w-screen-xl mx-auto px-2">
      <div class="mb-3 mt-48 flex justify-between items-center">
        <h3 *ngIf="!othersBookings" [ngClass]="{'text-lg':isMobileScreen(), 'text-2xl':!isMobileScreen()}" class=" font-bold text-gray-800 dark:text-white text-left">{{activeItem}}</h3>
        <h3 *ngIf="othersBookings" [ngClass]="{'text-lg':isMobileScreen(), 'text-2xl':!isMobileScreen()}" class=" font-bold text-gray-800 dark:text-white text-left">Other Bookings</h3>
        <div class="flex items-center space-x-2">
          <!-- Conditionally render the image only if there's a selected date -->
          <img *ngIf="Date" src="../../../../assets/icons/Vector.svg" alt="Icon" />
      
          <!-- Display the formatted selected date -->
          <p *ngIf="Date" class="text-sm">{{ Date | date: 'd MMM yyyy' }}</p>
          <button *ngIf="othersBookings" class="ml-8" (click)="othersBookings = false">
            <svg class="w-3 h-3" aria-hidden="true" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 14 14">
              <path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="m1 1 6 6m0 0 6 6M7 7l6-6M7 7l-6 6"/>
           </svg>
          </button>
        </div>
      </div>

      <div *ngIf="isSearching" class="flex justify-center">
        <app-search-animation></app-search-animation>
      </div>

      <div *ngIf="!isDataAvailable" class="flex justify-center items-center">
        <span>No Data Found !!</span>
      </div>

      <div *ngIf="!isSearching && !othersBookings" class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-10 mb-36">
        
        <app-card 
        *ngFor="let card of cards; let i = index"
        [heading]="card.heading"
        [location]="card.location"
        [capacity]="card.capacity"
        [acstatus]="card.acstatus"
        [imagepath]="card.imagepath"
        [address]="card.address"
        [buttons]="card.buttons"
        [module]="'user'"
        [selectedButtons]="card.selectedButtons"
        (buttonSelect)="onButtonSelect(i, $event)"
        [selectedDate]="selectedDate"
        [venuType]="card.typeOfVenue"
        [venueID]="card.venueId"
        [objID]="card.venueObjID"
        (bookingCompleted)="onBookingCompleted($event, card.venueId)"
        (viewOthersBooking)="viewOthersBooking($event)"> 
      </app-card>

      </div>

      <div *ngIf="othersBookings" class="grid grid-cols-1 gap-4" 
      [ngStyle]="{
        'animation': 'slideInFromLeft 0.5s ease-out'
      }">
        <app-view-others-booking
        *ngFor="let othersbooking of othersbookings; let i = index"
        [name]="othersbooking.userName"
        [phoneNumber]="othersbooking.phoneNumber"
        [department]="othersbooking.department"
        [eventName]="othersbooking.eventName"
        [timeSlots]="othersbooking.timeSlots"
        >
        </app-view-others-booking>
      </div>

   </div>